<form #f="ngForm" (ngSubmit)="onSubmit(f)">

    <mat-grid-list cols="8" rowHeight="100px">

        <mat-grid-tile colspan="4">
            <div class="form-group">
                <div *ngIf="!nome.valid && nome.touched" style="color: red;">O nome é obrigatório!</div>
                <mat-form-field appearance="fill" autofilled="false">
                    <mat-label>Nome</mat-label>
                    <input id="nome" matInput placeholder="Nome" name="nome" [(ngModel)]="usuario.nome" required #nome="ngModel">
                </mat-form-field>
            </div>
        </mat-grid-tile>

        <mat-grid-tile colspan="4">
            <div class="form-group">
                <div *ngIf="!email.valid && email.touched" style="color: red;">O email é obrigatório!</div>
                <mat-form-field appearance="fill">
                    <mat-label>Email</mat-label>
                    <input id="email" matInput placeholder="nome@email.com" name="email" [(ngModel)]="usuario.email" required email #email="ngModel">
                </mat-form-field>
            </div>
        </mat-grid-tile>

        <div ngModelGroup="endereco">
            <div class="form-group">
                <mat-grid-tile colspan="2">
                    <div class="form-group">
                        <div *ngIf="!cep.valid && cep.touched" style="color: red;">O CEP é obrigatório!</div>
                        <mat-form-field appearance="fill">
                            <mat-label>CEP</mat-label>
                            <input id="cep" matInput placeholder="12345-678" name="cep" ngModel required #cep="ngModel" (blur)="consultaCEP($event.target.value, f)">
                        </mat-form-field>
                    </div>
                </mat-grid-tile>

                <mat-grid-tile colspan="2">
                    <div class="form-group">
                        <div *ngIf="!numero.valid && numero.touched" style="color: red;">O numero é obrigatório!</div>
                        <mat-form-field appearance="fill">
                            <mat-label>numero</mat-label>
                            <input id="numero" matInput placeholder="Número" name="numero" ngModel required #numero="ngModel">
                        </mat-form-field>
                    </div>
                </mat-grid-tile>

                <mat-grid-tile colspan="4">
                    <div class="form-group">
                        <mat-form-field appearance="fill">
                            <mat-label>Complemento</mat-label>
                            <input id="complemento" matInput placeholder="Complemento" name="complemento" ngModel #complemento="ngModel">
                        </mat-form-field>
                    </div>
                </mat-grid-tile>

                <mat-grid-tile colspan="8">
                    <div class="form-group">
                        <mat-form-field appearance="fill">
                            <mat-label>Rua</mat-label>
                            <input id="rua" matInput name="rua" ngModel #rua="ngModel" readonly>
                        </mat-form-field>
                    </div>
                </mat-grid-tile>

                <mat-grid-tile colspan="3">
                    <div class="form-group">
                        <mat-form-field appearance="fill">
                            <mat-label>Bairro</mat-label>
                            <input id="bairro" matInput name="bairro" ngModel #bairro="ngModel" readonly>
                        </mat-form-field>
                    </div>
                </mat-grid-tile>

                <mat-grid-tile colspan="3">
                    <div class="form-group">
                        <mat-form-field appearance="fill">
                            <mat-label>Cidade</mat-label>
                            <input id="cidade" matInput name="cidade" ngModel #cidade="ngModel" readonly>
                        </mat-form-field>
                    </div>
                </mat-grid-tile>

                <mat-grid-tile colspan="2">
                    <div class="form-group">
                        <mat-form-field appearance="fill">
                            <mat-label>Estado</mat-label>
                            <input id="estado" matInput name="estado" ngModel #estado="ngModel" readonly>
                        </mat-form-field>
                    </div>
                </mat-grid-tile>
            </div>
        </div>
    </mat-grid-list>



    <button type="submit" mat-raised-button color="primary" [disabled]="!f.valid">Submit</button>
</form>
<br><br>
<app-form-debug [form]="f"></app-form-debug>